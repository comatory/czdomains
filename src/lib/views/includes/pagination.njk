<form
  method="GET"
  action="{{ pagination.path ~ "/" ~ pagination.filter }}"
  autocomplete="off"
  name="pagination"
  class="pagination"
>
  {% set previous = pagination.page > 0 %}
  {% set next = pagination.page < pagination.totalCount %}

  {% set sizeQuery = "size" ~ "=" ~ pagination.size %}
  {% set navigationHref = pagination.path ~ "/" ~ pagination.filter ~ "?" ~ sizeQuery %}

  {% if pagination.totalCount > 1 %}
    {% set pageQuery = "page" ~ "=" ~ 0 %}
    <a
      href="{{ navigationHref ~ "&" ~ pageQuery }}"
      class="pagination__button pagination__button--first"
    >
      << First
    </a>
  {% else %}
    <a
      class="pagination__button pagination__button--first"
    >
      << First
    </a>
  {% endif %}

  {% if previous and pagination.totalCount > 0 %}
    {% set pageQuery = "page" ~ "=" ~ (pagination.page - 1) %}
    <a
      href="{{ navigationHref ~ "&" ~ pageQuery }}"
      class="pagination__button pagination__button--previous"
    >
      < Previous
    </a>
  {% else %}
    <a
      class="pagination__button pagination__button--previous"
    >
      < Previous
    </a>
  {% endif %}

  <span class="pagination__current">
    <button type="submit" hidden></button>
    <label for="current-page">Page:</label>
      <input
        type="number"
        value="{{ pagination.page }}"
        name="page"
        class="pagination__current__input"
        id="current-page"
      />
      / {{ pagination.totalCount }}
  </span>

  <div class="pagination__per">
    <label for="per-page">Size:</label>
    <select
      value={{ pagination.size | string }}
      name="size"
      id="per-page"
      class="pagination__per__select"
      onchange="pagination.submit()"
    >
      {% set paginationOption = { value: 10, currentValue: pagination.size } %}
      {% include "./pagination-size-option.njk" %}
      {% set paginationOption = { value: 20, currentValue: pagination.size } %}
      {% include "./pagination-size-option.njk" %}
      {% set paginationOption = { value: 50, currentValue: pagination.size } %}
      {% include "./pagination-size-option.njk" %}
      {% set paginationOption = { value: 100, currentValue: pagination.size } %}
      {% include "./pagination-size-option.njk" %}
    </select>
  </div>

  {% if next and pagination.totalCount > 0 %}
    {% set pageQuery = "page" ~ "=" ~ (pagination.page + 1) %}
    <a
      href="{{ navigationHref ~ "&" ~ pageQuery }}"
      class="pagination__button pagination__button--next"
    >
      Next >
    </a>
  {% else %}
    <a
      class="pagination__button pagination__button--next"
    >
      Next >
    </a>
  {% endif %}

  {% if pagination.totalCount > 1 %}
    {% set pageQuery = "page" ~ "=" ~ pagination.totalCount %}
    <a
      href="{{ navigationHref ~ "&" ~ pageQuery }}"
      class="pagination__button pagination__button--last"
    >
      Last >>
    </a>
  {% else %}
    <a
      class="pagination__button pagination__button--first"
    >
      Last >>
    </a>
  {% endif %}
</form>
